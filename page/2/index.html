<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Jimmy&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Jimmy&#39;s blog">
<meta property="og:url" content="https://wickedcode01.github.io/hexo-blog/page/2/index.html">
<meta property="og:site_name" content="Jimmy&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jimmy">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/hexo-blog/atom.xml" title="Jimmy&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/hexo-blog/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/hexo-blog/" id="logo">Jimmy&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/hexo-blog/">Home</a>
        
          <a class="main-nav-link" href="/hexo-blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/hexo-blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://wickedcode01.github.io/hexo-blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-量化交易101" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/hexo-blog/2023/03/21/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93101/" class="article-date">
  <time datetime="2023-03-22T00:43:04.000Z" itemprop="datePublished">2023-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hexo-blog/2023/03/21/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93101/">量化交易101</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a><strong>前言</strong></h2><blockquote>
<p>多年以后，面对镰刀队的一字断魂刀，【瑞尔韭菜·贝比宽客】将会回想起那个在ATA看到这篇文章的遥远夏天。</p>
</blockquote>
<p><strong>小思考：投资需要感性还是理性，投资大师是天生的，还是后天培养的？</strong></p>
<p>不管你是怎么认为的，传奇投资人理查德·丹尼斯认为优秀的交易员是可以后天培养的，他做了一个实验，找了几个完全没有接触过交易的大学生，教授他们基本的期货交易概念以及他自己总结的一套交易方法和原则，最终他们取得了年均复利80%的收益，这套交易方法后来被称为海龟交易法。而现在，海龟交易法及其思想被广泛运用于各种金融衍生品的量化交易中。等等，也许你想问什么什么是“量化交易”，别急，我们先来认识一下两位代表性的投资大师。<br /><img src="https://img.alicdn.com/imgextra/i1/O1CN01ERRcHy1YjYe0BJgkk_!!6000000003095-0-tps-2246-600.jpg" alt="image.png"><br />第一位是大名鼎鼎的股神巴菲特，而第二位可能就让很多人不明就里了。其实他就是27年业绩远超巴菲特的文艺复兴对冲基金创始人西蒙斯。他们两人代表了两种截然不同的投资风格，如果说巴菲特代表了主观投资的巅峰，那西蒙斯就是代表了量化投资的巅峰，他旗下的大奖章基金更是以年平均35%的净收益远超巴菲特，甚至在08年金融危机的背景下，依然取得了80%的年化收益率。那么他是怎样做到的呢？这就不得不提到我们今天文章的主角——量化交易。</p>
<h2 id="什么是量化交易"><a href="#什么是量化交易" class="headerlink" title="什么是量化交易"></a><strong>什么是量化交易</strong></h2><p><img src="https://img.alicdn.com/imgextra/i4/O1CN01C7Atc91TM8JH4BCYU_!!6000000002367-2-tps-516-354.png" alt="image.png"><br />书本上将量化交易定义为人们通过严谨的研究，系统化地执行交易策略。严谨的研究一般指通过数理统计的方式发现潜在的市场规律，而系统化（systematic）被定义为遵守纪律的、有条不紊的、自动化的方法，一般通过计算机程序实现。尽管很大程度上借助计算机的能力去实现交易，但是设计交易策略的仍然是人，这些人通常被称为宽客（quant）。<br />与量化交易相对应的是主观投资，就是我们通常会采用的投资方法，即通过自己主观上对一家公司的了解而去投资它，这种投资方法非常考验人的交易直觉，很难复制。通常来说，相比其他投资方法量化投资的优势在于纪律性、系统性、及时性和分散化。具体解释如下：<br />纪律性：严格执行投资策略，而不是随着情绪的变化而随意交易。这样可以克服人性的弱点，如贪婪、恐惧等，做到不追涨杀跌。<br />系统性：量化投资的系统性特征包括多层次的量化模型、多角度的观察及海量数据的观察等。多层次模型包括大类资产配置模型、行业选择模型、精选个股模型等。多角度观察主要包括对宏观周期、市场结构、估值、成长、盈利质量、市场情绪等多个角度分析。此外，海量数据的处理能力能够更好地在广大的资本市场捕捉到更多的投资机会，拓展更大的投资机会。<br />及时性：及时快速地跟踪市场变化，不断发现能够提供超额收益的新的统计模型，寻找新的交易机会。<br />分散化：在控制风险的条件下，量化投资可以充当分散化投资的工具。表现为两个方面：一是量化投资不断地从历史中挖掘有望在未来重复的历史规律并且加以利用，这些历史规律都是较大概率取胜的策略；二是依靠筛选出股票组合来取胜，而不是一只或几只股票取胜，从投资组合的理念来看也是捕捉大概率获胜的股票，而不是押宝到单个股票。<br />这时可能很多人会提出反对意见，根据有效市场假说，在法律健全、功能良好、透明度高、竞争充分的股票市场，一切有价值的信息已经及时、准确、充分地反映在股价走势当中，其中包括企业当前和未来的价值，除非存在市场操纵，否则投资者不可能通过分析以往价格获得高于市场平均水平的超额利润。但事实上，目前我们的市场还远远达不到一个完全有效市场，其一是法律法规的不完善，客观上的信息鸿沟仍然存在，其二是市场的参与者并非完全的理性人。所以目前相比美股等成熟市场，量化策略在A股还有很大的发展空间，未来可期。</p>
<h2 id="如何编写量化策略"><a href="#如何编写量化策略" class="headerlink" title="如何编写量化策略"></a><strong>如何编写量化策略</strong></h2><p>在谈到如何编写一个量化策略之前，我们先来了解一下量化策略（股票）的主要分类。以个人投资者的角度可以大致分为这几类：选股策略、择时策略、调仓策略、止损策略。一个完整的股票策略需要有选股（买什么）、择时（何时买）、调仓（买多少）、止损（怎么跑），如果更展开一步讲的话还有基于股指对冲的市场中性策略，然而由于门槛的原因这里暂且不表。综上，对于大部分个人投资者只能做多的单边策略，选股显然是最重要的，所以接下来我们会主要介绍选股策略。<br />如何选一个好股票，每个人都会有自己的一套判断标准，我们会根据这些判断标准去选择我们自己心中的好股票，比如有的人倾向于选择市盈率低的股票、有的人倾向于名气大的股票，甚至有大妈专门选代码排序靠前的股票……这里的市盈率、名气、股票代码其实都是一种“因子”，反过来说多因子选股策略中的因子其实就是一种选股标准。我们都知道股票收益受到多重因素的影响，比如宏观、行业、流动性、公司基本面、交易情绪等等。所谓“多因子模型”，说白了就是寻找那些对股票收益率最相关的影响因素，使用这些因素（因子或指标）来刻画股票收益并进行选股。<br />多因子模型是量化投资领域应用最广泛也是最成熟的量化选股模型之一，建立在投资组合、资本资产定价（CAPM）、套利定价理论（APT）等现代金融投资理论基础上。多因子模型假设市场是无效或弱有效的，通过主动投资组合管理来获取超额收益。多因子选股的核心思想在于，市场影响因素是多重的并且是动态的，但是总会有一些因子在一定的时期内能发挥稳定的作用。在量化实践中，由于不同市场参与者或分析师对于市场的动态、因子的理解存在较大差异，因此构建出各种不同的多因子模型。传统的多因子模型基于多元线性回归，需要复杂的人工调参，而机器学习的方法则可以通过一些算法去帮我们找到最优的参数，非常适合金融小白和算法码农。<br /><img src="https://img.alicdn.com/imgextra/i3/O1CN01ehrtg11FVNgkC6Dbz_!!6000000000492-0-tps-588-334.jpg" alt="image.png"> <br />这里简单给大家看一个基本的量化模型是如何运行的。<br /><img src="https://img.alicdn.com/imgextra/i3/O1CN01Mlmazm1tWNAxHnHLm_!!6000000005909-0-tps-1010-612.jpg" alt="image.png"><br />如图所示，左边的是训练数据，用于训练一个预测模型，而右边的则是预测数据（回测数据），通过回测历史数据的方式快速判断模型的好坏。<br /><img src="https://img.alicdn.com/imgextra/i4/O1CN01RsoCU11sEgGFfu9Ce_!!6000000005735-0-tps-738-429.jpg" alt="image.png"> <br />量化交易人员对机器学习的态度很复杂，一方面自己实际投资中发现选股因子和股票收益之间关系并非完全线性，需要能力更强的分析预测工具，另一方面又担心机器学习工具过于复杂，导致数据挖掘，样本内过拟合的结果外推性不强，经济含义也不好解释。我这里想说明的是，机器学习虽然没法完全避免过拟合的可能性，但配合使用一些方法是可以降ML低过拟合的概率，提升样本外预测能力的。一般来讲，模型复杂度越高，Bias越小，但 Variance越大；模型复杂度越低，Bias越大，Variance越小。从图中可以看出，当模型复杂度较高的时候，虽然偏差很小，但是模型方差很大，因此模型的泛化能力不高。<br /><img src="https://img.alicdn.com/imgextra/i4/O1CN01mKyjG71Njau9PUAxI_!!6000000001606-2-tps-649-422.png" alt="image.png"><br />因此要想提高模型的预测能力，并不是越复杂越好，而是要在 Bias 和 Variance 间做权衡，降低总体预测误差，此外在某些机器学习算法中已经存在用剪枝等手段降低过拟合的方法。 <br />综上，AI量化策略由于其结构简单、参数少、欠拟合概率较低，同时还具有非常强的样本外预测能力。因此策略在收益和稳健性上都要比传统的线性模型高，更重要的是它可以帮助我们省去Barra结构风险模型中”因子筛选“、”因子加权“和”组合优化“的过程，提升策略开发效率。</p>
<h2 id="如何实盘操作"><a href="#如何实盘操作" class="headerlink" title="如何实盘操作"></a><strong>如何实盘操作</strong></h2><p>讲完了理论，不得不提的就是如何去实操，相信这也是大家最关心的问题。本质上这是一个工程问题，各大机构已经都有了自己的一套成熟解决方案。但是对于我们个人投资者来说，如果从零去自己搭建一套量化交易的系统是很不现实的。目前在策略端，已经涌现了很多优秀的第三方服务商，如bigquant、优矿、米矿等等。相比第三方服务，可能有的人更愿意去本地化部署一套策略服务，这块可以了解一下开源项目QUANTAXIS。<br />相比策略端的百花齐放，交易端这里就显得很凋零了。一个完整的量化策略，如果仅有策略，而不能自动化执行，那就相当于缺了一条腿。由于监管的原因，鲜少有公司涉及这一领域，有的话门槛也较高，主要针对机构和游资。但是办法总是有的，目前有国内有做了自动化交易的平台，虽然做了交易频次的限制，但是对于个人投资者常用的中低频策略来说已经是绰绰有余了。另外，还有很多平台和券商会提供网页端的交易入口，可以通过http接口下单，笔者之前以学习的目的尝试过这种方案，通过自动登录获取到cookie之后，可以直接调用相关的交易接口进行下单操作。这样只要维护一个持久化的下单服务就可以自动根据策略服务的信号去自动下单。<br /><img src="https://img.alicdn.com/imgextra/i4/O1CN01z3YrLM1dE1SKQzfKT_!!6000000003703-0-tps-2246-1194.jpg" alt="image.png"><br />最后附上一幅笔者之前实现的简单的量化交易系统架构图。<br /><img src="https://img.alicdn.com/imgextra/i2/O1CN01IsHYED1ZJjwBrnDnc_!!6000000003174-0-tps-1348-1146.jpg" alt="image.png"><br /><em>本文以学习交流为目的，不构成任何投资建议。投资没有圣杯，理性参与。</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wickedcode01.github.io/hexo-blog/2023/03/21/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93101/" data-id="clfiap4az0000s0vd9w8bh3bg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/hexo-blog/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/hexo-blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/hexo-blog/tags/%E9%87%8F%E5%8C%96/" rel="tag">量化</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-poem" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/hexo-blog/2023/03/20/poem/" class="article-date">
  <time datetime="2023-03-20T06:34:00.000Z" itemprop="datePublished">2023-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hexo-blog/2023/03/20/poem/">旧诗一首</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>桂华清露湿衣裳，一室通明彻夜光。</p>
<p>遥忆故园歌舞地，风林谷里话秋凉。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wickedcode01.github.io/hexo-blog/2023/03/20/poem/" data-id="clffqmaem0000icvdb6e8fl40" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/hexo-blog/tags/%E6%96%87%E5%AD%A6/" rel="tag">文学</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Poem by Shakespeare" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/hexo-blog/2023/03/19/Poem%20by%20Shakespeare/" class="article-date">
  <time datetime="2023-03-19T19:13:00.000Z" itemprop="datePublished">2023-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hexo-blog/2023/03/19/Poem%20by%20Shakespeare/">Poem by Shakespeare</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Sonnet 18 Shall I compare thee to a summer’s day? Thou art more lovely and more temperate: Rough winds do shake the darling buds of May, And summer’s lease hath all too short a date:</p>
<p>Sometime too hot the eye of heaven shines, And often is his gold complexion dimmed; And every fair from fair sometime declines, By chance, or nature’s changing course untrimmed;</p>
<p>But thy eternal summer shall not fade Nor lose possession of that fair thou owest; Nor shall Death brag thou wander’st in his shade, When in eternal lines to time thou growest:</p>
<p>So long as men can breathe or eyes can see, So long lives this, and this gives life to thee.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wickedcode01.github.io/hexo-blog/2023/03/19/Poem%20by%20Shakespeare/" data-id="clnfa093w00003kfj93i3c244" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/hexo-blog/tags/%E6%96%87%E5%AD%A6/" rel="tag">文学</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/hexo-blog/">&amp;laquo; 上一页</a><a class="page-number" href="/hexo-blog/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/hexo-blog/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/hexo-blog/tags/picture/" rel="tag">picture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/hexo-blog/tags/%E6%96%87%E5%AD%A6/" rel="tag">文学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/hexo-blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/hexo-blog/tags/%E9%87%8F%E5%8C%96/" rel="tag">量化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/hexo-blog/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/hexo-blog/tags/AI/" style="font-size: 10px;">AI</a> <a href="/hexo-blog/tags/picture/" style="font-size: 10px;">picture</a> <a href="/hexo-blog/tags/%E6%96%87%E5%AD%A6/" style="font-size: 20px;">文学</a> <a href="/hexo-blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">机器学习</a> <a href="/hexo-blog/tags/%E9%87%8F%E5%8C%96/" style="font-size: 10px;">量化</a> <a href="/hexo-blog/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 10px;">随笔</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/hexo-blog/archives/2023/04/">四月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/hexo-blog/archives/2023/03/">三月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/hexo-blog/2023/04/15/ai-drawing-pic/">AI drawing pic</a>
          </li>
        
          <li>
            <a href="/hexo-blog/2023/04/15/%E4%B8%A5%E5%8E%89%E6%89%B9%E5%88%A4%E5%B0%8F%E7%BA%A2%E4%B9%A6/">小红书三宗罪</a>
          </li>
        
          <li>
            <a href="/hexo-blog/2023/04/01/%E7%83%9F%E9%9B%A8%E6%B1%9F%E5%8D%97/">烟雨江南</a>
          </li>
        
          <li>
            <a href="/hexo-blog/2023/03/21/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93101/">量化交易101</a>
          </li>
        
          <li>
            <a href="/hexo-blog/2023/03/20/poem/">旧诗一首</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 Jimmy<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/hexo-blog/" class="mobile-nav-link">Home</a>
  
    <a href="/hexo-blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/hexo-blog/fancybox/jquery.fancybox.css">

  
<script src="/hexo-blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/hexo-blog/js/script.js"></script>




  </div>
</body>
</html>